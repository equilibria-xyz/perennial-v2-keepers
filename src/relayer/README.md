# Description

[Perennial Collateral Accounts](https://github.com/equilibria-xyz/perennial-v2/blob/v2.3/packages%2Fperennial-account%2FREADME.md) use intents to improve trading experience. Intents are EIP-712 message payloads submitted to this keeper which are then sponsored through a paymaster, allowing gasless trading.

# Intents

Supported intents include

```
  [
    `DeployAccount`,
    `MarketTransfer`,
    `Withdrawal`,
    `RebalanceConfigChange`


    // Relayed intents
    `RelayedNonceCancellation`,
    `RelayedGroupCancellation`,
    `RelayedSignerUpdate`,
    `RelayedOperatorUpdate`,
    `RelayedAccessUpdateBatch`
  ]
```

Relayed intents reward relayers for forwarding transactions.

# Routes

## POST `/relayIntent`

### Body Args

```
    {
      signatures: Hex[]; // required
      signingPayload: SigningPayload, // required
    }
```

#### Meta
```
    {
      wait?: boolean, // if the return value should wait for the confirmed txnHash
    }
```

Use `wait` if you want to wait for the transaction receipt. If `wait` is used then the return type will include the transaction hash.

#### Signatures

If Intent is one of `DeployAccount`, `MarketTransfer`, `Withdrawal`, `RebalanceConfigChange` then only one `signature` is required.

If Intent is one of `RelayedNonceCancellation`, `RelayedGroupCancellation`, `RelayedSignerUpdate`, `RelayedOperatorUpdate`, `RelayedAccessUpdateBatch` then both `innerSignature` and `outerSignature` are required.

#### Payload

`signingPayload` can be generated by the sdk, manually or by calling `/genSig`.

### Returns

The user operation hash. Can be passed into `/status` to get the operations receipt

## GET `/status`

### Query Args

```
  {
    hash: Hex; // required
  }
```

### Returns

The user operation receipt
